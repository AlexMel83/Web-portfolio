<!DOCTYPE html>
<html>

<head>
	<title> Editable table </title>
	<link href="../style.css" rel="stylesheet">
	<style type="text/css">
		table {
			text-align: center;
			font-weight: 700;
			font-size: 30px;
			margin: 10px;
			color: #454545;
			background-color: silver;
			margin: 10px auto;
			min-width: 145px;
			margin-top: 70px;
		}

		.btn {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 5px;
		}

		.btn button {
			height: 30px;
			width: 70px;
		}

		input {
			border: 1px solid #454545;
			background-color: #fff;
		}

		td {
			padding: 10px;
		}

		td {
			border: solid 1px black;
		}
	</style>
	<link href="style.css" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
	<header class="header">
		<div class="conteiner">
			<div class="header__body">
				<a href="http://cfhope.in.ua" class="header__logo" target="blank">
					<img src="../img/logo-transparent.png" alt="logo" class="header__logo_img">
				</a>
				<div class="header__burger">
					<span></span>
				</div>
				<nav class="header__menu menu">
					<ul data-line-effect="" class="header__list">
						<li><a href="../index.html" class="header__link">home</a></li>
						<li><a href="../portfolio.html" class="header__link">portfolio</a>
						<li><a href="../about.html" class="header__link">about</a></li>
						<li><a href="../skills.html" class="header__link">skills</a></li>
						<li><a href="../contacts.html" class="header__link">contacts</a></li>
					</ul>
				</nav>
			</div>
		</div>
	</header>
	<div id="content" class="content">
		<table id="table">
			<tr>
				<td>1</td>
				<td>2</td>
				<td>3</td>
			</tr>
			<tr>
				<td>4</td>
				<td>5</td>
				<td>6</td>
			</tr>
			<tr>
				<td>7</td>
				<td>8</td>
				<td>9</td>
			</tr>
		</table>
		<div class="btn">
			<button id="btn" onclick="sumRows()">sumrows</button>
			<br>
			<button id="btnc">sumcols</button>
		</div>
	</div>
	<script>
		let table = document.getElementById('table');
		let trs = table.getElementsByTagName('tr');
		function sumRows() {
			for (let i = 0; i < trs.length; i++) {
				let sum = 0;
				let tds = trs[i].getElementsByTagName('td');
				for (let j = 0; j < tds.length; j++) {
					sum += +tds[j].innerHTML;
				}
				let res = document.createElement('td');
				res.innerHTML = sum;
				trs[i].appendChild(res);
			}
		}

		let btn = document.querySelector('#btnc');

		btn.addEventListener('click', () => {
			let trs = table.querySelectorAll('tr');
			let colsNum = trs[0].querySelectorAll('td').length;
			let resultTr = document.createElement('tr');
			table.appendChild(resultTr);

			for (let i = 1; i <= colsNum; i++) {
				let sum = 0;
				let tdNumber = i;
				let tds = table.querySelectorAll('td:nth-child(' + tdNumber + ')');

				for (let j = 0; j < tds.length; j++)
					sum += +tds[j].innerHTML;
				let resultTd = document.createElement('td');
				resultTd.innerHTML = sum;
				resultTr.appendChild(resultTd);
			}

		});

		let tds = table.getElementsByTagName('td');
		for (let i of tds) {
			i.addEventListener('click', function func() {
				let input = document.createElement('input');
				input.value = i.innerText;
				i.innerHTML = '';
				i.appendChild(input);
				input.addEventListener('blur', () => {
					let text = input.value;
					i.innerHTML = text;
					i.addEventListener('click', func)
				});
				i.removeEventListener('click', func);
			});
		}
	</script>
	<footer class="footer">
		<div class="footer__copy">Test page make by html. Alexander Meleshko &copy; 2023</div>
		<div class="footer__text">hosting provided by <a href="https://wphost.me/" target="blank"> "WPHost.me" </a>
			<img src="https://wphost.me/catalog/images/2021/03/logo.svg" title="wphost" class="footer__host">
		</div>
	</footer>
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
	<script src="../script.js"></script>
</body>

</html>